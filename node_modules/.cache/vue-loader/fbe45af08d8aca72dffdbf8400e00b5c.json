{"remainingRequest":"/Users/mac/Desktop/Blog/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/Blog/admin/src/views/pages/user/Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/Blog/admin/src/views/pages/user/Create.vue","mtime":1600005518860},{"path":"/Users/mac/Desktop/Blog/admin/node_modules/cache-loader/dist/cjs.js","mtime":1599720796876},{"path":"/Users/mac/Desktop/Blog/admin/node_modules/babel-loader/lib/index.js","mtime":1597123372130},{"path":"/Users/mac/Desktop/Blog/admin/node_modules/cache-loader/dist/cjs.js","mtime":1599720796876},{"path":"/Users/mac/Desktop/Blog/admin/node_modules/vue-loader/lib/index.js","mtime":1599720798354}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWQ6IHt9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWRtaW51c2VyOiB7fQogICAgfQogIH0sCiAgY29tcG9uZW50czogewoKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHN1Ym1pdCgpIHsKICAgICAgbGV0IHJlcwogICAgICBpZih0aGlzLmFkbWludXNlciAhPT0gJycpewogICAgICAgIGlmKHRoaXMuaWQpewogICAgICAgIHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KGByZXN0L2FkbWluX3VzZXIvJHt0aGlzLmlkfWAsIHRoaXMuYWRtaW51c2VyKQogICAgICB9ZWxzZXsKICAgICAgICByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJ3Jlc3QvYWRtaW5fdXNlcicsIHRoaXMuYWRtaW51c2VyKQogICAgICB9CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvYWRtaW4vdXNlci9saXN0JykKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfmj5DkuqTmiJDlip8nCiAgICAgICAgfSkKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgbWVzc2FnZTogJ+aPkOS6pOWksei0pScKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgYXN5bmMgZmV0Y2goKXsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoYHJlc3QvYWRtaW5fdXNlci8ke3RoaXMuaWR9YCkKICAgICAgdGhpcy5hZG1pbnVzZXIgPSByZXMuZGF0YQogICAgfQogIH0sCiAgY3JlYXRlZCgpewogICAgdGhpcy5pZCAmJiB0aGlzLmZldGNoKCkKICB9Cn0K"},{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Create.vue","sourceRoot":"src/views/pages/user","sourcesContent":["<template>\n  <div>\n    <h1>{{id ? '编辑' : '新建'}}管理员</h1>\n    <el-form label-width=\"130px\" @submit.native.prevent=\"submit\">\n      <el-form-item label=\"用户名:\">\n        <el-input style=\"width: 200px;\" type=\"text\" placeholder=\"请输入内容\" v-model=\"adminuser.username\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"用户密码:\">\n        <el-input style=\"width: 200px;\" type=\"text\" placeholder=\"请输入内容\" v-model=\"adminuser.password\"></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    id: {}\n  },\n  data() {\n    return {\n      adminuser: {}\n    }\n  },\n  components: {\n\n  },\n  methods: {\n    async submit() {\n      let res\n      if(this.adminuser !== ''){\n        if(this.id){\n        res = await this.$http.put(`rest/admin_user/${this.id}`, this.adminuser)\n      }else{\n        res = await this.$http.post('rest/admin_user', this.adminuser)\n      }\n      this.$router.push('/admin/user/list')\n        this.$message({\n          type: 'success',\n          message: '提交成功'\n        })\n      }else{\n        this.$message({\n          type: 'error',\n          message: '提交失败'\n        })\n      }\n    },\n    async fetch(){\n      const res = await this.$http.get(`rest/admin_user/${this.id}`)\n      this.adminuser = res.data\n    }\n  },\n  created(){\n    this.id && this.fetch()\n  }\n}\n</script>\n\n<style scoped lang=\"css\">\n\n</style>\n"]}]}