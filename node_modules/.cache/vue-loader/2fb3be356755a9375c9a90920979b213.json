{"remainingRequest":"/Users/mac/Desktop/Blog/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/Blog/admin/src/views/pages/classification/Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/Blog/admin/src/views/pages/classification/Create.vue","mtime":1600174589834},{"path":"/Users/mac/Desktop/Blog/admin/node_modules/cache-loader/dist/cjs.js","mtime":1599720796876},{"path":"/Users/mac/Desktop/Blog/admin/node_modules/babel-loader/lib/index.js","mtime":1597123372130},{"path":"/Users/mac/Desktop/Blog/admin/node_modules/cache-loader/dist/cjs.js","mtime":1599720796876},{"path":"/Users/mac/Desktop/Blog/admin/node_modules/vue-loader/lib/index.js","mtime":1599720798354}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWQ6IHt9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2xhc3NkYXRhOiB7fQogICAgfQogIH0sCiAgY29tcG9uZW50czogewoKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHN1Ym1pdCgpIHsKICAgICAgbGV0IHJlcwogICAgICBpZih0aGlzLm1vZGVsICE9PSAnJyl7CiAgICAgICAgaWYodGhpcy5pZCl7CiAgICAgICAgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5wdXQoYHJlc3QvY2xhc3NpZmljYXRpb24vJHt0aGlzLmlkfWAsIHRoaXMuY2xhc3NkYXRhKQogICAgICB9ZWxzZXsKICAgICAgICByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoJ3Jlc3QvY2xhc3NpZmljYXRpb24nLCB0aGlzLmNsYXNzZGF0YSkKICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2FkbWluL2NsYXNzaWZpY2F0aW9uL2xpc3QnKQogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgbWVzc2FnZTogJ+aPkOS6pOaIkOWKnycKICAgICAgICB9KQogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBtZXNzYWdlOiAn5o+Q5Lqk5aSx6LSlJwogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBmZXRjaCgpewogICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldChgcmVzdC9jbGFzc2lmaWNhdGlvbi8ke3RoaXMuaWR9YCkKICAgICAgdGhpcy5jbGFzc2RhdGEgPSByZXMuZGF0YQogICAgfQogIH0sCiAgY3JlYXRlZCgpewogICAgdGhpcy5pZCAmJiB0aGlzLmZldGNoKCkKICB9Cn0K"},{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Create.vue","sourceRoot":"src/views/pages/classification","sourcesContent":["<template>\n  <div>\n    <h1>{{id ? '编辑' : '新建'}}分类</h1>\n    <el-form label-width=\"130px\" @submit.native.prevent=\"submit\">\n      <el-form-item label=\"分类名称:\">\n        <el-input style=\"width: 200px;\" type=\"text\" placeholder=\"请输入内容\" v-model=\"classdata.name\" maxlength=\"10\" show-word-limit></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    id: {}\n  },\n  data() {\n    return {\n      classdata: {}\n    }\n  },\n  components: {\n\n  },\n  methods: {\n    async submit() {\n      let res\n      if(this.model !== ''){\n        if(this.id){\n        res = await this.$http.put(`rest/classification/${this.id}`, this.classdata)\n      }else{\n        res = await this.$http.post('rest/classification', this.classdata)\n      }\n      this.$router.push('/admin/classification/list')\n        this.$message({\n          type: 'success',\n          message: '提交成功'\n        })\n      }else{\n        this.$message({\n          type: 'error',\n          message: '提交失败'\n        })\n      }\n    },\n    async fetch(){\n      const res = await this.$http.get(`rest/classification/${this.id}`)\n      this.classdata = res.data\n    }\n  },\n  created(){\n    this.id && this.fetch()\n  }\n}\n</script>\n\n<style scoped lang=\"css\">\n\n</style>\n"]}]}